---
import { getRelativeLocaleUrl } from 'astro:i18n';
import { Icon } from 'astro-icon/components'
import { Translations } from '../i18n/translations.';
import { URLHelper } from '../common/URLhelper';
import { API } from '../common/API/api';
import Toggle from './toggle.astro';

const locale = URLHelper.getLocaleFromURL(Astro.url);
const translation = Translations.getTranslation(locale);
const URLs = [
    {url: getRelativeLocaleUrl(locale, URLHelper.pages.home), name: translation.header.home},
    {url: getRelativeLocaleUrl(locale, URLHelper.pages.projects), name: translation.header.projects},
    {url: getRelativeLocaleUrl(locale, URLHelper.pages.blog), name: translation.header.blog},
    {url: getRelativeLocaleUrl(locale, URLHelper.pages.contact), name: translation.header.contact},
    {url: getRelativeLocaleUrl(locale, URLHelper.pages.design), name: translation.header.design},
    {url: getRelativeLocaleUrl(locale, URLHelper.pages.notFound), name: translation.header.notFound},
]
---

<div class="ds-main-text ds-border-b w-full h-16 flex-none flex items-center justify-between px-4 py-2">
    <nav aria-label="site navigation" class="w-1/3 flex items-center justify-start">
        <ul class="flex">
            {URLs.map((url => {
                return <li class="ds-text-hover px-4 my-2 flex items-center justify-center cursor-pointer"><a href={url.url}>{url.name}</a></li>
            }))}
        </ul>
    </nav>
    <div class="w-1/3 flex items-center justify-center">
        <p class="text-3xl font-normal"><strong>portfolio</strong> vinicius gon√ßalves</p>
    </div> 
    <div class="w-1/3 flex items-center justify-end space-x-8">
        <Toggle
            id="toggle-brightness-button"
            ariaLabel="Toggle brightness"
            leftIcon="bi bi-brightness-low"
            leftIconSize="text-2xl"
            rightIcon="bi bi-moon-stars"
            rightIconSize="font-lg"
            enableEvent={API.STYLE_DARKMODE_ENABLE}
            disableEvent={API.STYLE_DARKMODE_DISABLE}
            >
        </Toggle>
        <Toggle
            id="toggle-audio-button"
            ariaLabel="Toggle audio"
            leftIcon="bi bi-volume-up"
            leftIconSize="text-2xl"
            rightIcon="bi bi-volume-mute"
            rightIconSize="text-2xl"
            enableEvent={API.AUDIO_ENABLE}
            disableEvent={API.AUDIO_DISABLE}
            >
        </Toggle>
        <div class="h-full flex items-center justify-between space-x-1">
            <div class="h-full aspect-square p-1">BR</div>
            <a id="toggle-language-button" href={URLHelper.buildFullPathFromLocale(Astro.url, URLHelper.getNextLanguage(Astro.url))} aria-label="Toggle Language" class="ds-background ds-border ds-rounded ds-hover ds-low h-8 w-14 p-1 cursor-pointer flex items-center">
                <div id="toggle-language-knob" class=`ds-background ds-border ds-rounded ds-hover ds-high h-6 aspect-square transition-transform duration-500`></div>
            </a>
            <div class="h-full aspect-square p-1">EN</div>
        </div>
    </div>
</div>